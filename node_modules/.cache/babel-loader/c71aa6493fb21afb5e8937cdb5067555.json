{"ast":null,"code":"import \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.regexp.constructor.js\";\nimport \"core-js/modules/es.regexp.dot-all.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.sticky.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.string.replace.js\";\nexport default {\n  name: 'BoxInput',\n  data: function data() {\n    return {\n      textInput: '',\n      textOutput: [],\n      index: -1,\n      //索引 实现上下选择\n      showRed: false\n    };\n  },\n  computed: {\n    // 计算属性的 getter\n    redHtml: function redHtml() {\n      // `this` 指向 vm 实例\n      var this_ = this;\n      return this.textOutput.map(function (str) {\n        var reger = new RegExp(\"(\" + this_.textInput + \")\", \"gi\");\n        return str.replace(reger, \"<span style=\\\"color: red\\\">\" + this_.textInput + \"</span>\");\n      });\n    }\n  },\n  watch: {\n    textInput: function textInput() {\n      //跨域调用百度搜索接口\n      this.$http.jsonp('https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su', {\n        params: {\n          wd: this.textInput\n        },\n        jsonp: 'cb'\n      }).then(function (res) {\n        this.textOutput = res.data.s;\n      }, function (res) {\n        alert('failed');\n      });\n    }\n  },\n  methods: {\n    search: function search(e) {\n      // 当按上下键时返回\n      if (e.keyCode == 38 || e.keyCode == 40) return; // 按回车时搜索\n\n      if (e.keyCode == 13) {\n        // 新的页面打开\n        this.info = this.textInput;\n        window.open('https://www.baidu.com/s?wd=' + this.info);\n        this.info = '';\n      }\n    },\n    //按下键往下选择\n    change: function change() {\n      this.index++;\n      this.info = this.textOutput[this.index]; //输入框显示选择的内容\n\n      if (this.index == this.textOutput.length) this.index = 0; //当选到最后一个时索引变为0\n    },\n    // 按上键往上选择\n    up: function up() {\n      this.index--;\n      this.info = this.textOutput[this.index];\n      if (this.index == -1) this.index = this.textOutput.length - 1;\n    },\n    // 鼠标点击事件\n    enter: function enter(k) {\n      this.index = k;\n      this.info = this.textOutput[k];\n      window.open('https://www.baidu.com/s?wd=' + this.info);\n      this.info = '';\n    },\n    // 鼠标进入事件\n    mouseEnter: function mouseEnter(k) {\n      this.index = k;\n    },\n    // 鼠标离开事件\n    mouseLeave: function mouseLeave(k) {\n      this.index = k;\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;AAaE,eAAe;AACbA,MAAI,EAAE,UADO;AAEbC,MAFa,kBAEN;AACL,WAAO;AACLC,eAAS,EAAE,EADN;AAELC,gBAAU,EAAE,EAFP;AAGLC,WAAK,EAAE,CAAC,CAHH;AAGU;AACfC,aAAO,EAAE;AAJJ,KAAP;AAMD,GATY;AAUbC,UAAQ,EAAE;AACR;AACAC,WAAO,EAAE,mBAAY;AACnB;AACA,UAAIC,KAAI,GAAI,IAAZ;AACA,aAAO,KAAKL,UAAL,CAAgBM,GAAhB,CAAoB,UAAUC,GAAV,EAAe;AACxC,YAAIC,KAAI,GAAI,IAAIC,MAAJ,CAAW,MAAMJ,KAAK,CAACN,SAAZ,GAAwB,GAAnC,EAAwC,IAAxC,CAAZ;AACA,eAAOQ,GAAG,CAACG,OAAJ,CAAYF,KAAZ,EAAmB,gCAAgCH,KAAK,CAACN,SAAtC,GAAkD,SAArE,CAAP;AACD,OAHM,CAAP;AAIF;AATQ,GAVG;AAqBbY,OAAK,EAAE;AACLZ,aAAS,EAAE,qBAAY;AACrB;AACA,WAAKa,KAAL,CAAWC,KAAX,CAAiB,sDAAjB,EAAyE;AACvEC,cAAM,EAAE;AAACC,YAAE,EAAE,KAAKhB;AAAV,SAD+D;AAEvEc,aAAK,EAAE;AAFgE,OAAzE,EAIGG,IAJH,CAIQ,UAAUC,GAAV,EAAe;AACnB,aAAKjB,UAAL,GAAkBiB,GAAG,CAACnB,IAAJ,CAASoB,CAA3B;AACD,OANH,EAMK,UAAUD,GAAV,EAAe;AAChBE,aAAK,CAAC,QAAD,CAAL;AACD,OARH;AASF;AAZK,GArBM;AAmCbC,SAAO,EAAE;AACPC,UAAM,EAAE,gBAAUC,CAAV,EAAa;AACnB;AACA,UAAIA,CAAC,CAACC,OAAF,IAAa,EAAb,IAAmBD,CAAC,CAACC,OAAF,IAAa,EAApC,EAAwC,OAFrB,CAGnB;;AACA,UAAID,CAAC,CAACC,OAAF,IAAa,EAAjB,EAAqB;AACnB;AACA,aAAKC,IAAL,GAAY,KAAKzB,SAAjB;AACA0B,cAAM,CAACC,IAAP,CAAY,gCAAgC,KAAKF,IAAjD;AACA,aAAKA,IAAL,GAAY,EAAZ;AACF;AACD,KAXM;AAYP;AACAG,UAAM,EAAE,kBAAY;AAClB,WAAK1B,KAAL;AACA,WAAKuB,IAAL,GAAY,KAAKxB,UAAL,CAAgB,KAAKC,KAArB,CAAZ,CAFkB,CAEuB;;AACzC,UAAI,KAAKA,KAAL,IAAc,KAAKD,UAAL,CAAgB4B,MAAlC,EAA0C,KAAK3B,KAAL,GAAa,CAAb,CAHxB,CAGwC;AAC3D,KAjBM;AAkBP;AACA4B,MAAE,EAAE,cAAY;AACd,WAAK5B,KAAL;AACA,WAAKuB,IAAL,GAAY,KAAKxB,UAAL,CAAgB,KAAKC,KAArB,CAAZ;AACA,UAAI,KAAKA,KAAL,IAAc,CAAC,CAAnB,EAAsB,KAAKA,KAAL,GAAa,KAAKD,UAAL,CAAgB4B,MAAhB,GAAyB,CAAtC;AACvB,KAvBM;AAwBP;AACAE,SAAK,EAAE,eAAUC,CAAV,EAAa;AAClB,WAAK9B,KAAL,GAAa8B,CAAb;AACA,WAAKP,IAAL,GAAY,KAAKxB,UAAL,CAAgB+B,CAAhB,CAAZ;AACAN,YAAM,CAACC,IAAP,CAAY,gCAAgC,KAAKF,IAAjD;AACA,WAAKA,IAAL,GAAY,EAAZ;AACD,KA9BM;AA+BP;AACAQ,cAAU,EAAE,oBAAUD,CAAV,EAAa;AACvB,WAAK9B,KAAL,GAAa8B,CAAb;AACD,KAlCM;AAmCP;AACAE,cAAU,EAAE,oBAAUF,CAAV,EAAa;AACvB,WAAK9B,KAAL,GAAa8B,CAAb;AACF;AAtCO;AAnCI,CAAf","names":["name","data","textInput","textOutput","index","showRed","computed","redHtml","this_","map","str","reger","RegExp","replace","watch","$http","jsonp","params","wd","then","res","s","alert","methods","search","e","keyCode","info","window","open","change","length","up","enter","k","mouseEnter","mouseLeave"],"sourceRoot":"","sources":["C:\\PartTimeJob\\blog\\src\\components\\InputBox.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6 col-md-offset-3\">\r\n      <input class=\"form-control\" type=\"text\" placeholder='请输入搜索的内容' v-model='textInput' @keyup='search($event)'\r\n             @keydown.down='change()' @keydown.up='up()'>\r\n      <ul class=\"list-group\">\r\n        <li class=\"list-group-item\" v-for='(v, k) in redHtml' :key=\"k\" :class='{bg: k == index}' @click='enter(k)' @mouseenter='mouseEnter(k)' @mouseleave='mouseLeave(k)'>{{v}}</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'BoxInput',\r\n    data() {\r\n      return {\r\n        textInput: '',\r\n        textOutput: [],\r\n        index: -1,     //索引 实现上下选择\r\n        showRed: false\r\n      }\r\n    },\r\n    computed: {\r\n      // 计算属性的 getter\r\n      redHtml: function () {\r\n        // `this` 指向 vm 实例\r\n        let this_ = this\r\n        return this.textOutput.map(function (str) {\r\n          let reger = new RegExp(\"(\" + this_.textInput + \")\", \"gi\")\r\n          return str.replace(reger, \"<span style=\\\"color: red\\\">\" + this_.textInput + \"</span>\")\r\n        })\r\n      }\r\n    },\r\n    watch: {\r\n      textInput: function () {\r\n        //跨域调用百度搜索接口\r\n        this.$http.jsonp('https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su', {\r\n          params: {wd: this.textInput},\r\n          jsonp: 'cb'\r\n        })\r\n          .then(function (res) {\r\n            this.textOutput = res.data.s\r\n          }, function (res) {\r\n            alert('failed');\r\n          });\r\n      }\r\n    },\r\n    methods: {\r\n      search: function (e) {\r\n        // 当按上下键时返回\r\n        if (e.keyCode == 38 || e.keyCode == 40) return\r\n        // 按回车时搜索\r\n        if (e.keyCode == 13) {\r\n          // 新的页面打开\r\n          this.info = this.textInput\r\n          window.open('https://www.baidu.com/s?wd=' + this.info)\r\n          this.info = ''\r\n        }\r\n      },\r\n      //按下键往下选择\r\n      change: function () {\r\n        this.index++\r\n        this.info = this.textOutput[this.index]  //输入框显示选择的内容\r\n        if (this.index == this.textOutput.length) this.index = 0  //当选到最后一个时索引变为0\r\n      },\r\n      // 按上键往上选择\r\n      up: function () {\r\n        this.index--\r\n        this.info = this.textOutput[this.index]\r\n        if (this.index == -1) this.index = this.textOutput.length - 1\r\n      },\r\n      // 鼠标点击事件\r\n      enter: function (k) {\r\n        this.index = k\r\n        this.info = this.textOutput[k]\r\n        window.open('https://www.baidu.com/s?wd=' + this.info)\r\n        this.info = ''\r\n      },\r\n      // 鼠标进入事件\r\n      mouseEnter: function (k) {\r\n        this.index = k\r\n      },\r\n      // 鼠标离开事件\r\n      mouseLeave: function (k) {\r\n        this.index = k\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .bg {\r\n    background-color: rgba(63, 255, 40, 0.5)\r\n  }\r\n  li:hover {\r\n    cursor:pointer;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}