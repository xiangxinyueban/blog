{"ast":null,"code":"import \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport { vModelText as _vModelText, withKeys as _withKeys, createElementVNode as _createElementVNode, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-66ea8951\"), n = n(), _popScopeId(), n;\n};\n\nvar _hoisted_1 = {\n  \"class\": \"row\"\n};\nvar _hoisted_2 = {\n  \"class\": \"col-md-6 col-md-offset-3\"\n};\nvar _hoisted_3 = {\n  \"class\": \"list-group\"\n};\nvar _hoisted_4 = [\"onClick\", \"onMouseenter\", \"onMouseleave\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_withDirectives(_createElementVNode(\"input\", {\n    \"class\": \"form-control\",\n    type: \"text\",\n    placeholder: \"请输入搜索的内容\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = function ($event) {\n      return $data.textInput = $event;\n    }),\n    onKeyup: _cache[1] || (_cache[1] = function ($event) {\n      return $options.search($event);\n    }),\n    onKeydown: [_cache[2] || (_cache[2] = _withKeys(function ($event) {\n      return $options.change();\n    }, [\"down\"])), _cache[3] || (_cache[3] = _withKeys(function ($event) {\n      return $options.up();\n    }, [\"up\"]))]\n  }, null, 544\n  /* HYDRATE_EVENTS, NEED_PATCH */\n  ), [[_vModelText, $data.textInput]]), _createElementVNode(\"ul\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($options.redHtml, function (v, k) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      \"class\": _normalizeClass([\"list-group-item\", {\n        bg: k == $data.index\n      }]),\n      key: k,\n      onClick: function onClick($event) {\n        return $options.enter(k);\n      },\n      onMouseenter: function onMouseenter($event) {\n        return $options.mouseEnter(k);\n      },\n      onMouseleave: function onMouseleave($event) {\n        return $options.mouseLeave(k);\n      }\n    }, _toDisplayString(v), 43\n    /* TEXT, CLASS, PROPS, HYDRATE_EVENTS */\n    , _hoisted_4);\n  }), 128\n  /* KEYED_FRAGMENT */\n  ))])])]);\n}","map":{"version":3,"mappings":";;;;;;;;;AACO,WAAM;;;AACJ,WAAM;;;AAGL,WAAM;;;;uBAJdA,oBAQM,KARN,cAQM,CAPJC,oBAMM,KANN,cAMM,iBALJA,oBACmD,OADnD,EACmD;AAD5C,aAAM,cACsC;AADvBC,QAAI,EAAC,MACkB;AADXC,eAAW,EAAC,UACD;;aADqBC,kBAASC;MAC9B;AADiCC,WAAK;AAAA,aAAEC,gBAAOF,MAAP,CAAF;AAAA,MACtC;AAA3CG,aAAO;aAAOD;OAAM,UAAb;aAA8BA;OAAE,QAAhC;AAAoC,GADnD;;AAAA,oBAAwEH,kBAKpE,EAHJH,oBAEK,IAFL,cAEK,oBADHD,oBAA6KS,SAA7K,EAA6K,IAA7K,EAA6KC,YAAhIH,gBAAgI,EAAzH,UAAhBI,CAAgB,EAAbC,CAAa,EAAZ;yBAAxCZ,oBAA6K,IAA7K,EAA6K;AAAzK,eAAKa,iBAAC,iBAAD,EAAkB;AAAAC,YAAiDF,CAAC,IAAIR;AAAtD,OAAlB,EAAoK;AAAtHW,SAAG,EAAEH,CAAiH;AAAnFI,aAAK;AAAA,eAAET,eAAMK,CAAN,CAAF;AAAA,OAA8E;AAAjEK,kBAAU;AAAA,eAAEV,oBAAWK,CAAX,CAAF;AAAA,OAAuD;AAArCM,kBAAU;AAAA,eAAEX,oBAAWK,CAAX,CAAF;AAAA;AAA2B,KAA7K,mBAAqKD,EAArK,EAAsK;AAAA;AAAtK,MAAsKQ,UAAtK;GAA6K,CAA7K;;AAAA,GACG,EAFL,CAGI,CANN,CAOI,CARN","names":["_createElementBlock","_createElementVNode","type","placeholder","$data","$event","onKeyup","$options","onKeydown","_Fragment","_renderList","v","k","_normalizeClass","bg","key","onClick","onMouseenter","onMouseleave","_hoisted_4"],"sourceRoot":"","sources":["C:\\PartTimeJob\\blog\\src\\components\\InputBox.vue"],"sourcesContent":["<template>\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6 col-md-offset-3\">\r\n      <input class=\"form-control\" type=\"text\" placeholder='请输入搜索的内容' v-model='textInput' @keyup='search($event)'\r\n             @keydown.down='change()' @keydown.up='up()'>\r\n      <ul class=\"list-group\">\r\n        <li class=\"list-group-item\" v-for='(v, k) in redHtml' :key=\"k\" :class='{bg: k == index}' @click='enter(k)' @mouseenter='mouseEnter(k)' @mouseleave='mouseLeave(k)'>{{v}}</li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: 'BoxInput',\r\n    data() {\r\n      return {\r\n        textInput: '',\r\n        textOutput: [],\r\n        index: -1,     //索引 实现上下选择\r\n        showRed: false\r\n      }\r\n    },\r\n    computed: {\r\n      // 计算属性的 getter\r\n      redHtml: function () {\r\n        // `this` 指向 vm 实例\r\n        let this_ = this\r\n        return this.textOutput.map(function (str) {\r\n          let reger = new RegExp(\"(\" + this_.textInput + \")\", \"gi\")\r\n          return str.replace(reger, \"<span style=\\\"color: red\\\">\" + this_.textInput + \"</span>\")\r\n        })\r\n      }\r\n    },\r\n    watch: {\r\n      textInput: function () {\r\n        //跨域调用百度搜索接口\r\n        this.$http.jsonp('https://sp0.baidu.com/5a1Fazu8AA54nxGko9WTAnF6hhy/su', {\r\n          params: {wd: this.textInput},\r\n          jsonp: 'cb'\r\n        })\r\n          .then(function (res) {\r\n            this.textOutput = res.data.s\r\n          }, function (res) {\r\n            alert('failed');\r\n          });\r\n      }\r\n    },\r\n    methods: {\r\n      search: function (e) {\r\n        // 当按上下键时返回\r\n        if (e.keyCode == 38 || e.keyCode == 40) return\r\n        // 按回车时搜索\r\n        if (e.keyCode == 13) {\r\n          // 新的页面打开\r\n          this.info = this.textInput\r\n          window.open('https://www.baidu.com/s?wd=' + this.info)\r\n          this.info = ''\r\n        }\r\n      },\r\n      //按下键往下选择\r\n      change: function () {\r\n        this.index++\r\n        this.info = this.textOutput[this.index]  //输入框显示选择的内容\r\n        if (this.index == this.textOutput.length) this.index = 0  //当选到最后一个时索引变为0\r\n      },\r\n      // 按上键往上选择\r\n      up: function () {\r\n        this.index--\r\n        this.info = this.textOutput[this.index]\r\n        if (this.index == -1) this.index = this.textOutput.length - 1\r\n      },\r\n      // 鼠标点击事件\r\n      enter: function (k) {\r\n        this.index = k\r\n        this.info = this.textOutput[k]\r\n        window.open('https://www.baidu.com/s?wd=' + this.info)\r\n        this.info = ''\r\n      },\r\n      // 鼠标进入事件\r\n      mouseEnter: function (k) {\r\n        this.index = k\r\n      },\r\n      // 鼠标离开事件\r\n      mouseLeave: function (k) {\r\n        this.index = k\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n  .bg {\r\n    background-color: rgba(63, 255, 40, 0.5)\r\n  }\r\n  li:hover {\r\n    cursor:pointer;\r\n  }\r\n</style>"]},"metadata":{},"sourceType":"module"}