{"ast":null,"code":"export default {\n  name: 'HeaderBar',\n  props: {\n    msg: String\n  },\n  data: function data() {\n    return {\n      activeText: \"浅色模式\",\n      value: false\n    };\n  },\n  mounted: function mounted() {\n    var theme = localStorage.getItem(\"theme\");\n    console.log(\"theme:\", theme, theme === \"true\");\n\n    if (theme === \"true\") {\n      this.$store.state.isDarkTheme = theme;\n      this.value = true;\n    }\n  },\n  methods: {},\n  watch: {\n    value: function value(newValue, oldValue) {\n      console.log(\"newValue:\", newValue, \"oldValue:\", oldValue);\n      this.$store.state.isDarkTheme = newValue;\n      localStorage.setItem(\"theme\", newValue);\n\n      if (this.$store.state.isDarkTheme) {\n        this.activeText = \"深色模式\";\n      } else {\n        this.activeText = \"浅色模式\";\n      }\n    }\n  }\n};","map":{"version":3,"mappings":"AAwBA,eAAe;AACbA,MAAI,EAAE,WADO;AAEbC,OAAK,EAAE;AACLC,OAAG,EAAEC;AADA,GAFM;AAKfC,MALe,kBAKR;AACH,WAAO;AACLC,gBAAU,EAAC,MADN;AAELC,WAAK,EAAC;AAFD,KAAP;AAID,GAVY;AAWbC,SAXa,qBAWJ;AACP,QAAIC,KAAI,GAAIC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAZ;AACAC,WAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBJ,KAArB,EAA4BA,KAAK,KAAG,MAApC;;AACA,QAAIA,KAAK,KAAG,MAAZ,EAAoB;AAClB,WAAKK,MAAL,CAAYC,KAAZ,CAAkBC,WAAlB,GAAgCP,KAAhC;AACA,WAAKF,KAAL,GAAa,IAAb;AACF;AACD,GAlBY;AAmBbU,SAAO,EAAC,EAnBK;AAsBbC,OAAK,EAAC;AACJX,SADI,iBACEY,QADF,EACYC,QADZ,EACqB;AACvBR,aAAO,CAACC,GAAR,CAAY,WAAZ,EAAyBM,QAAzB,EAAmC,WAAnC,EAAgDC,QAAhD;AACA,WAAKN,MAAL,CAAYC,KAAZ,CAAkBC,WAAlB,GAAgCG,QAAhC;AACAT,kBAAY,CAACW,OAAb,CAAqB,OAArB,EAA8BF,QAA9B;;AACA,UAAI,KAAKL,MAAL,CAAYC,KAAZ,CAAkBC,WAAtB,EAAkC;AAChC,aAAKV,UAAL,GAAkB,MAAlB;AACF,OAFA,MAEO;AACL,aAAKA,UAAL,GAAkB,MAAlB;AACF;AAEF;AAXI;AAtBO,CAAf","names":["name","props","msg","String","data","activeText","value","mounted","theme","localStorage","getItem","console","log","$store","state","isDarkTheme","methods","watch","newValue","oldValue","setItem"],"sourceRoot":"","sources":["C:\\PartTimeJob\\blog\\src\\components\\HeaderBar.vue"],"sourcesContent":["<template>\r\n      <nav>\r\n    <div class=\"left\">\r\n      <router-link to=\"/home\">首页</router-link>\r\n      <router-link to=\"/news\">新闻</router-link>\r\n      <router-link to=\"/algothrom\">聊天室</router-link>\r\n    </div>\r\n    <div class=\"middle\"></div>\r\n    <div class=\"right\">\r\n      <router-link to=\"/\">登录</router-link>\r\n      <router-link to=\"/about\">注册</router-link>\r\n      <el-switch\r\n      class=\"switchStyle\"\r\n        v-model=\"value\"\r\n        active-color=\"#111111\"\r\n        :active-text=\"activeText\"\r\n        inactive-color=\"#aaaaaa\">\r\n  </el-switch>\r\n    </div>\r\n  </nav>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'HeaderBar',\r\n  props: {\r\n    msg: String\r\n  },\r\ndata() {\r\n    return {\r\n      activeText:\"浅色模式\",\r\n      value:false\r\n    }\r\n  },\r\n  mounted(){\r\n    let theme = localStorage.getItem(\"theme\")\r\n    console.log(\"theme:\",theme, theme===\"true\");\r\n    if (theme===\"true\") {\r\n      this.$store.state.isDarkTheme = theme;\r\n      this.value = true\r\n    }\r\n  },\r\n  methods:{\r\n\r\n  },\r\n  watch:{\r\n    value(newValue, oldValue){\r\n      console.log(\"newValue:\", newValue, \"oldValue:\", oldValue);\r\n      this.$store.state.isDarkTheme = newValue;\r\n      localStorage.setItem(\"theme\", newValue)\r\n      if (this.$store.state.isDarkTheme){\r\n        this.activeText = \"深色模式\"\r\n      } else {\r\n        this.activeText = \"浅色模式\"\r\n      }\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.switchStyle .el-switch__label--left {\r\n  z-index: 9;\r\n  left: 6px;\r\n}\r\n.switchStyle {\r\n  > .el-switch__label--right .is-active{\r\n     color:#fff;\r\n}\r\n}\r\n.switchStyle .el-switch__label.is-active {\r\n  display: block;\r\n}\r\n.switchStyle .el-switch .el-switch__core,\r\n.el-switch .el-switch__label {\r\n  width: 50px !important;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}