{"ast":null,"code":"import _defineProperty from \"C:/PartTimeJob/blog/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.math.trunc.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.string.small.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.split.js\";\nimport \"core-js/modules/es.string.trim.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport { defineComponent, getCurrentInstance, computed, ref, watch, provide, h } from 'vue';\nimport '../../../utils/index.mjs';\nimport '../../../hooks/index.mjs';\nimport '../../../tokens/index.mjs';\nimport Prev from './components/prev.mjs';\nimport Next from './components/next.mjs';\nimport Sizes from './components/sizes.mjs';\nimport Jumper from './components/jumper.mjs';\nimport Total from './components/total.mjs';\nimport Pager from './components/pager.mjs';\nimport { buildProps, definePropType } from '../../../utils/vue/props.mjs';\nimport { mutable } from '../../../utils/typescript.mjs';\nimport { useLocale } from '../../../hooks/use-locale/index.mjs';\nimport { useNamespace } from '../../../hooks/use-namespace/index.mjs';\nimport { elPaginationKey } from '../../../tokens/pagination.mjs';\nimport { debugWarn } from '../../../utils/error.mjs';\n\nvar isAbsent = function isAbsent(v) {\n  return typeof v !== \"number\";\n};\n\nvar paginationProps = buildProps({\n  total: Number,\n  pageSize: Number,\n  defaultPageSize: Number,\n  currentPage: Number,\n  defaultCurrentPage: Number,\n  pageCount: Number,\n  pagerCount: {\n    type: Number,\n    validator: function validator(value) {\n      return typeof value === \"number\" && Math.trunc(value) === value && value > 4 && value < 22 && value % 2 === 1;\n    },\n    \"default\": 7\n  },\n  layout: {\n    type: String,\n    \"default\": [\"prev\", \"pager\", \"next\", \"jumper\", \"->\", \"total\"].join(\", \")\n  },\n  pageSizes: {\n    type: definePropType(Array),\n    \"default\": function _default() {\n      return mutable([10, 20, 30, 40, 50, 100]);\n    }\n  },\n  popperClass: {\n    type: String,\n    \"default\": \"\"\n  },\n  prevText: {\n    type: String,\n    \"default\": \"\"\n  },\n  nextText: {\n    type: String,\n    \"default\": \"\"\n  },\n  small: Boolean,\n  background: Boolean,\n  disabled: Boolean,\n  hideOnSinglePage: Boolean\n});\nvar paginationEmits = {\n  \"update:current-page\": function updateCurrentPage(val) {\n    return typeof val === \"number\";\n  },\n  \"update:page-size\": function updatePageSize(val) {\n    return typeof val === \"number\";\n  },\n  \"size-change\": function sizeChange(val) {\n    return typeof val === \"number\";\n  },\n  \"current-change\": function currentChange(val) {\n    return typeof val === \"number\";\n  },\n  \"prev-click\": function prevClick(val) {\n    return typeof val === \"number\";\n  },\n  \"next-click\": function nextClick(val) {\n    return typeof val === \"number\";\n  }\n};\nvar componentName = \"ElPagination\";\nvar Pagination = defineComponent({\n  name: componentName,\n  props: paginationProps,\n  emits: paginationEmits,\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit,\n        slots = _ref.slots;\n\n    var _useLocale = useLocale(),\n        t = _useLocale.t;\n\n    var ns = useNamespace(\"pagination\");\n    var vnodeProps = getCurrentInstance().vnode.props || {};\n    var hasCurrentPageListener = \"onUpdate:currentPage\" in vnodeProps || \"onUpdate:current-page\" in vnodeProps || \"onCurrentChange\" in vnodeProps;\n    var hasPageSizeListener = \"onUpdate:pageSize\" in vnodeProps || \"onUpdate:page-size\" in vnodeProps || \"onSizeChange\" in vnodeProps;\n    var assertValidUsage = computed(function () {\n      if (isAbsent(props.total) && isAbsent(props.pageCount)) return false;\n      if (!isAbsent(props.currentPage) && !hasCurrentPageListener) return false;\n\n      if (props.layout.includes(\"sizes\")) {\n        if (!isAbsent(props.pageCount)) {\n          if (!hasPageSizeListener) return false;\n        } else if (!isAbsent(props.total)) {\n          if (!isAbsent(props.pageSize)) {\n            if (!hasPageSizeListener) {\n              return false;\n            }\n          } else {}\n        }\n      }\n\n      return true;\n    });\n    var innerPageSize = ref(isAbsent(props.defaultPageSize) ? 10 : props.defaultPageSize);\n    var innerCurrentPage = ref(isAbsent(props.defaultCurrentPage) ? 1 : props.defaultCurrentPage);\n    var pageSizeBridge = computed({\n      get: function get() {\n        return isAbsent(props.pageSize) ? innerPageSize.value : props.pageSize;\n      },\n      set: function set(v) {\n        if (isAbsent(props.pageSize)) {\n          innerPageSize.value = v;\n        }\n\n        if (hasPageSizeListener) {\n          emit(\"update:page-size\", v);\n          emit(\"size-change\", v);\n        }\n      }\n    });\n    var pageCountBridge = computed(function () {\n      var pageCount = 0;\n\n      if (!isAbsent(props.pageCount)) {\n        pageCount = props.pageCount;\n      } else if (!isAbsent(props.total)) {\n        pageCount = Math.max(1, Math.ceil(props.total / pageSizeBridge.value));\n      }\n\n      return pageCount;\n    });\n    var currentPageBridge = computed({\n      get: function get() {\n        return isAbsent(props.currentPage) ? innerCurrentPage.value : props.currentPage;\n      },\n      set: function set(v) {\n        var newCurrentPage = v;\n\n        if (v < 1) {\n          newCurrentPage = 1;\n        } else if (v > pageCountBridge.value) {\n          newCurrentPage = pageCountBridge.value;\n        }\n\n        if (isAbsent(props.currentPage)) {\n          innerCurrentPage.value = newCurrentPage;\n        }\n\n        if (hasCurrentPageListener) {\n          emit(\"update:current-page\", newCurrentPage);\n          emit(\"current-change\", newCurrentPage);\n        }\n      }\n    });\n    watch(pageCountBridge, function (val) {\n      if (currentPageBridge.value > val) currentPageBridge.value = val;\n    });\n\n    function handleCurrentChange(val) {\n      currentPageBridge.value = val;\n    }\n\n    function handleSizeChange(val) {\n      pageSizeBridge.value = val;\n      var newPageCount = pageCountBridge.value;\n\n      if (currentPageBridge.value > newPageCount) {\n        currentPageBridge.value = newPageCount;\n      }\n    }\n\n    function prev() {\n      if (props.disabled) return;\n      currentPageBridge.value -= 1;\n      emit(\"prev-click\", currentPageBridge.value);\n    }\n\n    function next() {\n      if (props.disabled) return;\n      currentPageBridge.value += 1;\n      emit(\"next-click\", currentPageBridge.value);\n    }\n\n    function addClass(element, cls) {\n      if (element) {\n        if (!element.props) {\n          element.props = {};\n        }\n\n        element.props[\"class\"] = [element.props[\"class\"], cls].join(\" \");\n      }\n    }\n\n    provide(elPaginationKey, {\n      pageCount: pageCountBridge,\n      disabled: computed(function () {\n        return props.disabled;\n      }),\n      currentPage: currentPageBridge,\n      changeEvent: handleCurrentChange,\n      handleSizeChange: handleSizeChange\n    });\n    return function () {\n      var _a, _b;\n\n      if (!assertValidUsage.value) {\n        debugWarn(componentName, t(\"el.pagination.deprecationWarning\"));\n        return null;\n      }\n\n      if (!props.layout) return null;\n      if (props.hideOnSinglePage && pageCountBridge.value <= 1) return null;\n      var rootChildren = [];\n      var rightWrapperChildren = [];\n      var rightWrapperRoot = h(\"div\", {\n        \"class\": ns.e(\"rightwrapper\")\n      }, rightWrapperChildren);\n      var TEMPLATE_MAP = {\n        prev: h(Prev, {\n          disabled: props.disabled,\n          currentPage: currentPageBridge.value,\n          prevText: props.prevText,\n          onClick: prev\n        }),\n        jumper: h(Jumper),\n        pager: h(Pager, {\n          currentPage: currentPageBridge.value,\n          pageCount: pageCountBridge.value,\n          pagerCount: props.pagerCount,\n          onChange: handleCurrentChange,\n          disabled: props.disabled\n        }),\n        next: h(Next, {\n          disabled: props.disabled,\n          currentPage: currentPageBridge.value,\n          pageCount: pageCountBridge.value,\n          nextText: props.nextText,\n          onClick: next\n        }),\n        sizes: h(Sizes, {\n          pageSize: pageSizeBridge.value,\n          pageSizes: props.pageSizes,\n          popperClass: props.popperClass,\n          disabled: props.disabled,\n          size: props.small ? \"small\" : \"default\"\n        }),\n        slot: (_b = (_a = slots == null ? void 0 : slots[\"default\"]) == null ? void 0 : _a.call(slots)) != null ? _b : null,\n        total: h(Total, {\n          total: isAbsent(props.total) ? 0 : props.total\n        })\n      };\n      var components = props.layout.split(\",\").map(function (item) {\n        return item.trim();\n      });\n      var haveRightWrapper = false;\n      components.forEach(function (c) {\n        if (c === \"->\") {\n          haveRightWrapper = true;\n          return;\n        }\n\n        if (!haveRightWrapper) {\n          rootChildren.push(TEMPLATE_MAP[c]);\n        } else {\n          rightWrapperChildren.push(TEMPLATE_MAP[c]);\n        }\n      });\n      addClass(rootChildren[0], ns.is(\"first\"));\n      addClass(rootChildren[rootChildren.length - 1], ns.is(\"last\"));\n\n      if (haveRightWrapper && rightWrapperChildren.length > 0) {\n        addClass(rightWrapperChildren[0], ns.is(\"first\"));\n        addClass(rightWrapperChildren[rightWrapperChildren.length - 1], ns.is(\"last\"));\n        rootChildren.push(rightWrapperRoot);\n      }\n\n      return h(\"div\", {\n        role: \"pagination\",\n        \"aria-label\": \"pagination\",\n        \"class\": [ns.b(), ns.is(\"background\", props.background), _defineProperty({}, ns.m(\"small\"), props.small)]\n      }, rootChildren);\n    };\n  }\n});\nexport { Pagination as default, paginationEmits, paginationProps };","map":{"version":3,"mappings":"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","names":["isAbsent","v","paginationProps","buildProps","total","Number","pageSize","defaultPageSize","currentPage","defaultCurrentPage","pageCount","pagerCount","type","validator","value","Math","trunc","layout","String","join","pageSizes","definePropType","Array","mutable","popperClass","prevText","nextText","small","Boolean","background","disabled","hideOnSinglePage","paginationEmits","val","componentName","defineComponent","name","props","emits","setup","emit","slots","useLocale","t","ns","useNamespace","vnodeProps","getCurrentInstance","vnode","hasCurrentPageListener","hasPageSizeListener","assertValidUsage","computed","includes","innerPageSize","ref","innerCurrentPage","pageSizeBridge","get","set","pageCountBridge","max","ceil","currentPageBridge","newCurrentPage","watch","handleCurrentChange","handleSizeChange","newPageCount","prev","next","addClass","element","cls","provide","elPaginationKey","changeEvent","_a","_b","debugWarn","rootChildren","rightWrapperChildren","rightWrapperRoot","h","e","TEMPLATE_MAP","Prev","onClick","jumper","Jumper","pager","Pager","onChange","Next","sizes","Sizes","size","slot","call","Total","components","split","map","item","trim","haveRightWrapper","forEach","c","push","is","length","role","b","m"],"sources":["../../../../../../packages/components/pagination/src/pagination.ts"],"sourcesContent":["import {\n  computed,\n  defineComponent,\n  getCurrentInstance,\n  h,\n  provide,\n  ref,\n  watch,\n} from 'vue'\nimport {\n  buildProps,\n  debugWarn,\n  definePropType,\n  mutable,\n} from '@element-plus/utils'\nimport { useLocale, useNamespace } from '@element-plus/hooks'\nimport { elPaginationKey } from '@element-plus/tokens'\n\nimport Prev from './components/prev.vue'\nimport Next from './components/next.vue'\nimport Sizes from './components/sizes.vue'\nimport Jumper from './components/jumper.vue'\nimport Total from './components/total.vue'\nimport Pager from './components/pager.vue'\n\nimport type { ExtractPropTypes, VNode } from 'vue'\n\n/**\n * It it user's responsibility to guarantee that the value of props.total... is number\n * (same as pageSize, defaultPageSize, currentPage, defaultCurrentPage, pageCount)\n * Otherwise we can reasonable infer that the corresponding field is absent\n */\nconst isAbsent = (v: unknown): v is undefined => typeof v !== 'number'\n\ntype LayoutKey =\n  | 'prev'\n  | 'pager'\n  | 'next'\n  | 'jumper'\n  | '->'\n  | 'total'\n  | 'sizes'\n  | 'slot'\n\nexport const paginationProps = buildProps({\n  total: Number,\n  pageSize: Number,\n  defaultPageSize: Number,\n  currentPage: Number,\n  defaultCurrentPage: Number,\n  pageCount: Number,\n  pagerCount: {\n    type: Number,\n    validator: (value: unknown) => {\n      return (\n        typeof value === 'number' &&\n        Math.trunc(value) === value &&\n        value > 4 &&\n        value < 22 &&\n        value % 2 === 1\n      )\n    },\n    default: 7,\n  },\n  layout: {\n    type: String,\n    default: (\n      ['prev', 'pager', 'next', 'jumper', '->', 'total'] as LayoutKey[]\n    ).join(', '),\n  },\n  pageSizes: {\n    type: definePropType<number[]>(Array),\n    default: () => mutable([10, 20, 30, 40, 50, 100] as const),\n  },\n  popperClass: {\n    type: String,\n    default: '',\n  },\n  prevText: {\n    type: String,\n    default: '',\n  },\n  nextText: {\n    type: String,\n    default: '',\n  },\n  small: Boolean,\n  background: Boolean,\n  disabled: Boolean,\n  hideOnSinglePage: Boolean,\n} as const)\nexport type PaginationProps = ExtractPropTypes<typeof paginationProps>\n\nexport const paginationEmits = {\n  'update:current-page': (val: number) => typeof val === 'number',\n  'update:page-size': (val: number) => typeof val === 'number',\n  'size-change': (val: number) => typeof val === 'number',\n  'current-change': (val: number) => typeof val === 'number',\n  'prev-click': (val: number) => typeof val === 'number',\n  'next-click': (val: number) => typeof val === 'number',\n}\nexport type PaginationEmits = typeof paginationEmits\n\nconst componentName = 'ElPagination'\nexport default defineComponent({\n  name: componentName,\n\n  props: paginationProps,\n  emits: paginationEmits,\n\n  setup(props, { emit, slots }) {\n    const { t } = useLocale()\n    const ns = useNamespace('pagination')\n    const vnodeProps = getCurrentInstance()!.vnode.props || {}\n    // we can find @xxx=\"xxx\" props on `vnodeProps` to check if user bind corresponding events\n    const hasCurrentPageListener =\n      'onUpdate:currentPage' in vnodeProps ||\n      'onUpdate:current-page' in vnodeProps ||\n      'onCurrentChange' in vnodeProps\n    const hasPageSizeListener =\n      'onUpdate:pageSize' in vnodeProps ||\n      'onUpdate:page-size' in vnodeProps ||\n      'onSizeChange' in vnodeProps\n    const assertValidUsage = computed(() => {\n      // Users have to set either one, otherwise count of pages cannot be determined\n      if (isAbsent(props.total) && isAbsent(props.pageCount)) return false\n      // <el-pagination ...otherProps :current-page=\"xxx\" /> without corresponding listener is forbidden now\n      // Users have to use two way binding of `currentPage`\n      // If users just want to provide a default value, `defaultCurrentPage` is here for you\n      if (!isAbsent(props.currentPage) && !hasCurrentPageListener) return false\n      // When you want to change sizes, things get more complex, detailed below\n      // Basically the most important value we need is page count\n      // either directly from props.pageCount\n      // or calculated from props.total\n      // we will take props.pageCount precedence over props.total\n      if (props.layout.includes('sizes')) {\n        if (!isAbsent(props.pageCount)) {\n          // if props.pageCount is assign by user, then user have to watch pageSize change\n          // and recalculate pageCount\n          if (!hasPageSizeListener) return false\n        } else if (!isAbsent(props.total)) {\n          // Otherwise, we will see if user have props.pageSize defined\n          // If so, meaning user want to have pageSize controlled himself/herself from component\n          // Thus page size listener is required\n          // users are account for page size change\n          if (!isAbsent(props.pageSize)) {\n            if (!hasPageSizeListener) {\n              return false\n            }\n          } else {\n            // (else block just for explaination)\n            // else page size is controlled by el-pagination internally\n          }\n        }\n      }\n      return true\n    })\n\n    const innerPageSize = ref(\n      isAbsent(props.defaultPageSize) ? 10 : props.defaultPageSize\n    )\n    const innerCurrentPage = ref(\n      isAbsent(props.defaultCurrentPage) ? 1 : props.defaultCurrentPage\n    )\n\n    const pageSizeBridge = computed({\n      get() {\n        return isAbsent(props.pageSize) ? innerPageSize.value : props.pageSize\n      },\n      set(v: number) {\n        if (isAbsent(props.pageSize)) {\n          innerPageSize.value = v\n        }\n        if (hasPageSizeListener) {\n          emit('update:page-size', v)\n          emit('size-change', v)\n        }\n      },\n    })\n\n    const pageCountBridge = computed<number>(() => {\n      let pageCount = 0\n      if (!isAbsent(props.pageCount)) {\n        pageCount = props.pageCount\n      } else if (!isAbsent(props.total)) {\n        pageCount = Math.max(1, Math.ceil(props.total / pageSizeBridge.value))\n      }\n      return pageCount\n    })\n\n    const currentPageBridge = computed<number>({\n      get() {\n        return isAbsent(props.currentPage)\n          ? innerCurrentPage.value\n          : props.currentPage\n      },\n      set(v) {\n        let newCurrentPage = v\n        if (v < 1) {\n          newCurrentPage = 1\n        } else if (v > pageCountBridge.value) {\n          newCurrentPage = pageCountBridge.value\n        }\n        if (isAbsent(props.currentPage)) {\n          innerCurrentPage.value = newCurrentPage\n        }\n        if (hasCurrentPageListener) {\n          emit('update:current-page', newCurrentPage)\n          emit('current-change', newCurrentPage)\n        }\n      },\n    })\n\n    watch(pageCountBridge, (val) => {\n      if (currentPageBridge.value > val) currentPageBridge.value = val\n    })\n\n    function handleCurrentChange(val: number) {\n      currentPageBridge.value = val\n    }\n\n    function handleSizeChange(val: number) {\n      pageSizeBridge.value = val\n      const newPageCount = pageCountBridge.value\n      if (currentPageBridge.value > newPageCount) {\n        currentPageBridge.value = newPageCount\n      }\n    }\n\n    function prev() {\n      if (props.disabled) return\n      currentPageBridge.value -= 1\n      emit('prev-click', currentPageBridge.value)\n    }\n\n    function next() {\n      if (props.disabled) return\n      currentPageBridge.value += 1\n      emit('next-click', currentPageBridge.value)\n    }\n\n    function addClass(element: any, cls: string) {\n      if (element) {\n        if (!element.props) {\n          element.props = {}\n        }\n        element.props.class = [element.props.class, cls].join(' ')\n      }\n    }\n\n    provide(elPaginationKey, {\n      pageCount: pageCountBridge,\n      disabled: computed(() => props.disabled),\n      currentPage: currentPageBridge,\n      changeEvent: handleCurrentChange,\n      handleSizeChange,\n    })\n\n    return () => {\n      if (!assertValidUsage.value) {\n        debugWarn(componentName, t('el.pagination.deprecationWarning'))\n        return null\n      }\n      if (!props.layout) return null\n      if (props.hideOnSinglePage && pageCountBridge.value <= 1) return null\n      const rootChildren: Array<VNode | VNode[] | null> = []\n      const rightWrapperChildren: Array<VNode | VNode[] | null> = []\n      const rightWrapperRoot = h(\n        'div',\n        { class: ns.e('rightwrapper') },\n        rightWrapperChildren\n      )\n      const TEMPLATE_MAP: Record<\n        Exclude<LayoutKey, '->'>,\n        VNode | VNode[] | null\n      > = {\n        prev: h(Prev, {\n          disabled: props.disabled,\n          currentPage: currentPageBridge.value,\n          prevText: props.prevText,\n          onClick: prev,\n        }),\n        jumper: h(Jumper),\n        pager: h(Pager, {\n          currentPage: currentPageBridge.value,\n          pageCount: pageCountBridge.value,\n          pagerCount: props.pagerCount,\n          onChange: handleCurrentChange,\n          disabled: props.disabled,\n        }),\n        next: h(Next, {\n          disabled: props.disabled,\n          currentPage: currentPageBridge.value,\n          pageCount: pageCountBridge.value,\n          nextText: props.nextText,\n          onClick: next,\n        }),\n        sizes: h(Sizes, {\n          pageSize: pageSizeBridge.value,\n          pageSizes: props.pageSizes,\n          popperClass: props.popperClass,\n          disabled: props.disabled,\n          size: props.small ? 'small' : 'default',\n        }),\n        slot: slots?.default?.() ?? null,\n        total: h(Total, { total: isAbsent(props.total) ? 0 : props.total }),\n      }\n\n      const components = props.layout\n        .split(',')\n        .map((item: string) => item.trim()) as LayoutKey[]\n\n      let haveRightWrapper = false\n\n      components.forEach((c) => {\n        if (c === '->') {\n          haveRightWrapper = true\n          return\n        }\n        if (!haveRightWrapper) {\n          rootChildren.push(TEMPLATE_MAP[c])\n        } else {\n          rightWrapperChildren.push(TEMPLATE_MAP[c])\n        }\n      })\n\n      addClass(rootChildren[0], ns.is('first'))\n      addClass(rootChildren[rootChildren.length - 1], ns.is('last'))\n\n      if (haveRightWrapper && rightWrapperChildren.length > 0) {\n        addClass(rightWrapperChildren[0], ns.is('first'))\n        addClass(\n          rightWrapperChildren[rightWrapperChildren.length - 1],\n          ns.is('last')\n        )\n        rootChildren.push(rightWrapperRoot)\n      }\n      return h(\n        'div',\n        {\n          role: 'pagination',\n          'aria-label': 'pagination',\n          class: [\n            ns.b(),\n            ns.is('background', props.background),\n            {\n              [ns.m('small')]: props.small,\n            },\n          ],\n        },\n        rootChildren\n      )\n    }\n  },\n})\n"]},"metadata":{},"sourceType":"module"}