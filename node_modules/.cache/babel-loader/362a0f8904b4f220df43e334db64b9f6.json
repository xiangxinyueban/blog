{"ast":null,"code":"import \"core-js/modules/es.date.now.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/web.timers.js\";\nimport '../../utils/index.mjs';\nimport { on, once } from '../../utils/dom/event.mjs';\nvar RepeatClick = {\n  beforeMount: function beforeMount(el, binding) {\n    var interval = null;\n    var startTime;\n\n    var handler = function handler() {\n      return binding.value && binding.value();\n    };\n\n    var clear = function clear() {\n      if (Date.now() - startTime < 100) {\n        handler();\n      }\n\n      clearInterval(interval);\n      interval = null;\n    };\n\n    on(el, \"mousedown\", function (e) {\n      if (e.button !== 0) return;\n      startTime = Date.now();\n      once(document, \"mouseup\", clear);\n      clearInterval(interval);\n      interval = setInterval(handler, 100);\n    });\n  }\n};\nexport { RepeatClick as default };","map":{"version":3,"mappings":";;;;;AACA,kBAAe;AACbA,aADa,uBACDC,EADC,EACGC,OADH,EACY;AACvB,QAAIC,QAAQ,GAAG,IAAf;AACA,QAAIC,SAAJ;;AACA,QAAMC,OAAO,GAAG,SAAVA,OAAU;AAAA,aAAMH,OAAO,CAACI,KAAR,IAAiBJ,OAAO,CAACI,KAAR,EAAvB;AAAA,KAAhB;;AACA,QAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;AAClB,UAAIC,IAAI,CAACC,GAAL,KAAaL,SAAb,GAAyB,GAA7B,EAAkC;AAChCC,eAAO;AACR;;AACDK,mBAAa,CAACP,QAAD,CAAb;AACAA,cAAQ,GAAG,IAAX;AACD,KAND;;AAOAQ,MAAE,CAACV,EAAD,EAAK,WAAL,EAAkB,UAACW,CAAD,EAAO;AACzB,UAAIA,CAAC,CAACC,MAAF,KAAa,CAAjB,EACE;AACFT,eAAS,GAAGI,IAAI,CAACC,GAAL,EAAZ;AACAK,UAAI,CAACC,QAAD,EAAW,SAAX,EAAsBR,KAAtB,CAAJ;AACAG,mBAAa,CAACP,QAAD,CAAb;AACAA,cAAQ,GAAGa,WAAW,CAACX,OAAD,EAAU,GAAV,CAAtB;AACD,KAPC,CAAF;AAQD;AApBY,CAAf","names":["beforeMount","el","binding","interval","startTime","handler","value","clear","Date","now","clearInterval","on","e","button","once","document","setInterval"],"sources":["../../../../../packages/directives/repeat-click/index.ts"],"sourcesContent":["import { on, once } from '@element-plus/utils'\n\nimport type { DirectiveBinding, ObjectDirective } from 'vue'\n\nexport default {\n  beforeMount(el: HTMLElement, binding: DirectiveBinding) {\n    let interval = null\n    let startTime: number\n    const handler = () => binding.value && binding.value()\n    const clear = () => {\n      if (Date.now() - startTime < 100) {\n        handler()\n      }\n      clearInterval(interval)\n      interval = null\n    }\n\n    on(el, 'mousedown', (e: MouseEvent) => {\n      if ((e as any).button !== 0) return\n      startTime = Date.now()\n      once(document as any, 'mouseup', clear)\n      clearInterval(interval)\n      interval = setInterval(handler, 100)\n    })\n  },\n} as ObjectDirective\n"]},"metadata":{},"sourceType":"module"}