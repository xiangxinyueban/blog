{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.array.from.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.number.is-nan.js\";\nimport { defineComponent, ref, computed, watchEffect, resolveComponent, openBlock, createElementBlock, normalizeClass, withKeys, createCommentVNode, createBlock, Fragment, renderList, toDisplayString } from 'vue';\nimport { DArrowLeft, DArrowRight, MoreFilled } from '@element-plus/icons-vue';\nimport '../../../../hooks/index.mjs';\nimport _export_sfc from '../../../../_virtual/plugin-vue_export-helper.mjs';\nimport { useNamespace } from '../../../../hooks/use-namespace/index.mjs';\nvar paginationPagerProps = {\n  currentPage: {\n    type: Number,\n    \"default\": 1\n  },\n  pageCount: {\n    type: Number,\n    required: true\n  },\n  pagerCount: {\n    type: Number,\n    \"default\": 7\n  },\n  disabled: Boolean\n};\n\nvar _sfc_main = defineComponent({\n  name: \"ElPaginationPager\",\n  components: {\n    DArrowLeft: DArrowLeft,\n    DArrowRight: DArrowRight,\n    MoreFilled: MoreFilled\n  },\n  props: paginationPagerProps,\n  emits: [\"change\"],\n  setup: function setup(props, _ref) {\n    var emit = _ref.emit;\n    var nsPager = useNamespace(\"pager\");\n    var nsIcon = useNamespace(\"icon\");\n    var showPrevMore = ref(false);\n    var showNextMore = ref(false);\n    var quickPrevHover = ref(false);\n    var quickNextHover = ref(false);\n    var pagers = computed(function () {\n      var pagerCount = props.pagerCount;\n      var halfPagerCount = (pagerCount - 1) / 2;\n      var currentPage = Number(props.currentPage);\n      var pageCount = Number(props.pageCount);\n      var showPrevMore2 = false;\n      var showNextMore2 = false;\n\n      if (pageCount > pagerCount) {\n        if (currentPage > pagerCount - halfPagerCount) {\n          showPrevMore2 = true;\n        }\n\n        if (currentPage < pageCount - halfPagerCount) {\n          showNextMore2 = true;\n        }\n      }\n\n      var array = [];\n\n      if (showPrevMore2 && !showNextMore2) {\n        var startPage = pageCount - (pagerCount - 2);\n\n        for (var i = startPage; i < pageCount; i++) {\n          array.push(i);\n        }\n      } else if (!showPrevMore2 && showNextMore2) {\n        for (var _i = 2; _i < pagerCount; _i++) {\n          array.push(_i);\n        }\n      } else if (showPrevMore2 && showNextMore2) {\n        var offset = Math.floor(pagerCount / 2) - 1;\n\n        for (var _i2 = currentPage - offset; _i2 <= currentPage + offset; _i2++) {\n          array.push(_i2);\n        }\n      } else {\n        for (var _i3 = 2; _i3 < pageCount; _i3++) {\n          array.push(_i3);\n        }\n      }\n\n      return array;\n    });\n    watchEffect(function () {\n      var halfPagerCount = (props.pagerCount - 1) / 2;\n      showPrevMore.value = false;\n      showNextMore.value = false;\n\n      if (props.pageCount > props.pagerCount) {\n        if (props.currentPage > props.pagerCount - halfPagerCount) {\n          showPrevMore.value = true;\n        }\n\n        if (props.currentPage < props.pageCount - halfPagerCount) {\n          showNextMore.value = true;\n        }\n      }\n    });\n\n    function onMouseenter(direction) {\n      if (props.disabled) return;\n\n      if (direction === \"left\") {\n        quickPrevHover.value = true;\n      } else {\n        quickNextHover.value = true;\n      }\n    }\n\n    function onEnter(e) {\n      var target = e.target;\n\n      if (target.tagName.toLowerCase() === \"li\" && Array.from(target.classList).includes(\"number\")) {\n        var newPage = Number(target.textContent);\n\n        if (newPage !== props.currentPage) {\n          emit(\"change\", newPage);\n        }\n      }\n    }\n\n    function onPagerClick(event) {\n      var target = event.target;\n\n      if (target.tagName.toLowerCase() === \"ul\" || props.disabled) {\n        return;\n      }\n\n      var newPage = Number(target.textContent);\n      var pageCount = props.pageCount;\n      var currentPage = props.currentPage;\n      var pagerCountOffset = props.pagerCount - 2;\n\n      if (target.className.includes(\"more\")) {\n        if (target.className.includes(\"quickprev\")) {\n          newPage = currentPage - pagerCountOffset;\n        } else if (target.className.includes(\"quicknext\")) {\n          newPage = currentPage + pagerCountOffset;\n        }\n      }\n\n      if (!Number.isNaN(+newPage)) {\n        if (newPage < 1) {\n          newPage = 1;\n        }\n\n        if (newPage > pageCount) {\n          newPage = pageCount;\n        }\n      }\n\n      if (newPage !== currentPage) {\n        emit(\"change\", newPage);\n      }\n    }\n\n    return {\n      showPrevMore: showPrevMore,\n      showNextMore: showNextMore,\n      quickPrevHover: quickPrevHover,\n      quickNextHover: quickNextHover,\n      pagers: pagers,\n      nsPager: nsPager,\n      nsIcon: nsIcon,\n      onMouseenter: onMouseenter,\n      onPagerClick: onPagerClick,\n      onEnter: onEnter\n    };\n  }\n});\n\nvar _hoisted_1 = [\"aria-current\"];\nvar _hoisted_2 = [\"aria-current\"];\nvar _hoisted_3 = [\"aria-current\"];\n\nfunction _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_d_arrow_left = resolveComponent(\"d-arrow-left\");\n\n  var _component_more_filled = resolveComponent(\"more-filled\");\n\n  var _component_d_arrow_right = resolveComponent(\"d-arrow-right\");\n\n  return openBlock(), createElementBlock(\"ul\", {\n    \"class\": normalizeClass(_ctx.nsPager.b()),\n    onClick: _cache[4] || (_cache[4] = function () {\n      return _ctx.onPagerClick && _ctx.onPagerClick.apply(_ctx, arguments);\n    }),\n    onKeyup: _cache[5] || (_cache[5] = withKeys(function () {\n      return _ctx.onEnter && _ctx.onEnter.apply(_ctx, arguments);\n    }, [\"enter\"]))\n  }, [_ctx.pageCount > 0 ? (openBlock(), createElementBlock(\"li\", {\n    key: 0,\n    \"class\": normalizeClass([[_ctx.nsPager.is(\"active\", _ctx.currentPage === 1), _ctx.nsPager.is(\"disabled\", _ctx.disabled)], \"number\"]),\n    \"aria-current\": _ctx.currentPage === 1,\n    tabindex: \"0\"\n  }, \" 1 \", 10, _hoisted_1)) : createCommentVNode(\"v-if\", true), _ctx.showPrevMore ? (openBlock(), createElementBlock(\"li\", {\n    key: 1,\n    \"class\": normalizeClass([\"more\", \"btn-quickprev\", _ctx.nsIcon.b(), _ctx.nsPager.is(\"disabled\", _ctx.disabled)]),\n    onMouseenter: _cache[0] || (_cache[0] = function ($event) {\n      return _ctx.onMouseenter(\"left\");\n    }),\n    onMouseleave: _cache[1] || (_cache[1] = function ($event) {\n      return _ctx.quickPrevHover = false;\n    })\n  }, [_ctx.quickPrevHover ? (openBlock(), createBlock(_component_d_arrow_left, {\n    key: 0\n  })) : (openBlock(), createBlock(_component_more_filled, {\n    key: 1\n  }))], 34)) : createCommentVNode(\"v-if\", true), (openBlock(true), createElementBlock(Fragment, null, renderList(_ctx.pagers, function (pager) {\n    return openBlock(), createElementBlock(\"li\", {\n      key: pager,\n      \"class\": normalizeClass([[_ctx.nsPager.is(\"active\", _ctx.currentPage === pager), _ctx.nsPager.is(\"disabled\", _ctx.disabled)], \"number\"]),\n      \"aria-current\": _ctx.currentPage === pager,\n      tabindex: \"0\"\n    }, toDisplayString(pager), 11, _hoisted_2);\n  }), 128)), _ctx.showNextMore ? (openBlock(), createElementBlock(\"li\", {\n    key: 2,\n    \"class\": normalizeClass([\"more\", \"btn-quicknext\", _ctx.nsIcon.b(), _ctx.nsPager.is(\"disabled\", _ctx.disabled)]),\n    onMouseenter: _cache[2] || (_cache[2] = function ($event) {\n      return _ctx.onMouseenter(\"right\");\n    }),\n    onMouseleave: _cache[3] || (_cache[3] = function ($event) {\n      return _ctx.quickNextHover = false;\n    })\n  }, [_ctx.quickNextHover ? (openBlock(), createBlock(_component_d_arrow_right, {\n    key: 0\n  })) : (openBlock(), createBlock(_component_more_filled, {\n    key: 1\n  }))], 34)) : createCommentVNode(\"v-if\", true), _ctx.pageCount > 1 ? (openBlock(), createElementBlock(\"li\", {\n    key: 3,\n    \"class\": normalizeClass([[_ctx.nsPager.is(\"active\", _ctx.currentPage === _ctx.pageCount), _ctx.nsPager.is(\"disabled\", _ctx.disabled)], \"number\"]),\n    \"aria-current\": _ctx.currentPage === _ctx.pageCount,\n    tabindex: \"0\"\n  }, toDisplayString(_ctx.pageCount), 11, _hoisted_3)) : createCommentVNode(\"v-if\", true)], 34);\n}\n\nvar Pager = /* @__PURE__ */_export_sfc(_sfc_main, [[\"render\", _sfc_render], [\"__file\", \"/home/runner/work/element-plus/element-plus/packages/components/pagination/src/components/pager.vue\"]]);\n\nexport { Pager as default };","map":{"version":3,"mappings":"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","names":["paginationPagerProps","currentPage","type","pageCount","required","pagerCount","disabled","_sfc_main","defineComponent","name","components","DArrowLeft","DArrowRight","MoreFilled","props","emits","setup","emit","useNamespace","ref","computed","Number","showPrevMore2","showNextMore2","halfPagerCount","array","i","push","offset","floor","watchEffect","showPrevMore","value","showNextMore","direction","quickPrevHover","quickNextHover","e","target","toLowerCase","Array","from","classList","includes","textContent","newPage","event","tagName","className","isNaN","pagers","nsPager","nsIcon","onMouseenter","onPagerClick","onEnter","_createElementBlock","_normalizeClass","b","onClick","_cache","onKeyup","_ctx","openBlock","key","is","tabindex","_hoisted_1","_createCommentVNode","onMouseleave","_openBlock","_component_d_arrow_left","_createBlock","pager","_toDisplayString","_hoisted_2","_component_d_arrow_right","_hoisted_3"],"sources":["../../../../../../../packages/components/pagination/src/components/pager.vue"],"sourcesContent":["<template>\n  <ul :class=\"nsPager.b()\" @click=\"onPagerClick\" @keyup.enter=\"onEnter\">\n    <li\n      v-if=\"pageCount > 0\"\n      :class=\"[\n        nsPager.is('active', currentPage === 1),\n        nsPager.is('disabled', disabled),\n      ]\"\n      class=\"number\"\n      :aria-current=\"currentPage === 1\"\n      tabindex=\"0\"\n    >\n      1\n    </li>\n    <li\n      v-if=\"showPrevMore\"\n      :class=\"[\n        'more',\n        'btn-quickprev',\n        nsIcon.b(),\n        nsPager.is('disabled', disabled),\n      ]\"\n      @mouseenter=\"onMouseenter('left')\"\n      @mouseleave=\"quickPrevHover = false\"\n    >\n      <d-arrow-left v-if=\"quickPrevHover\" />\n      <more-filled v-else />\n    </li>\n    <li\n      v-for=\"pager in pagers\"\n      :key=\"pager\"\n      :class=\"[\n        nsPager.is('active', currentPage === pager),\n        nsPager.is('disabled', disabled),\n      ]\"\n      class=\"number\"\n      :aria-current=\"currentPage === pager\"\n      tabindex=\"0\"\n    >\n      {{ pager }}\n    </li>\n    <li\n      v-if=\"showNextMore\"\n      :class=\"[\n        'more',\n        'btn-quicknext',\n        nsIcon.b(),\n        nsPager.is('disabled', disabled),\n      ]\"\n      @mouseenter=\"onMouseenter('right')\"\n      @mouseleave=\"quickNextHover = false\"\n    >\n      <d-arrow-right v-if=\"quickNextHover\" />\n      <more-filled v-else />\n    </li>\n    <li\n      v-if=\"pageCount > 1\"\n      :class=\"[\n        nsPager.is('active', currentPage === pageCount),\n        nsPager.is('disabled', disabled),\n      ]\"\n      class=\"number\"\n      :aria-current=\"currentPage === pageCount\"\n      tabindex=\"0\"\n    >\n      {{ pageCount }}\n    </li>\n  </ul>\n</template>\n<script lang=\"ts\">\nimport { computed, defineComponent, ref, watchEffect } from 'vue'\nimport { DArrowLeft, DArrowRight, MoreFilled } from '@element-plus/icons-vue'\nimport { useNamespace } from '@element-plus/hooks'\n\nconst paginationPagerProps = {\n  currentPage: {\n    type: Number,\n    default: 1,\n  },\n  pageCount: {\n    type: Number,\n    required: true,\n  },\n  pagerCount: {\n    type: Number,\n    default: 7,\n  },\n  disabled: Boolean,\n} as const\n\nexport default defineComponent({\n  name: 'ElPaginationPager',\n\n  components: {\n    DArrowLeft,\n    DArrowRight,\n    MoreFilled,\n  },\n  props: paginationPagerProps,\n  emits: ['change'],\n\n  setup(props, { emit }) {\n    const nsPager = useNamespace('pager')\n    const nsIcon = useNamespace('icon')\n\n    const showPrevMore = ref(false)\n    const showNextMore = ref(false)\n    const quickPrevHover = ref(false)\n    const quickNextHover = ref(false)\n\n    const pagers = computed(() => {\n      const pagerCount = props.pagerCount\n      const halfPagerCount = (pagerCount - 1) / 2\n      const currentPage = Number(props.currentPage)\n      const pageCount = Number(props.pageCount)\n\n      let showPrevMore = false\n      let showNextMore = false\n      if (pageCount > pagerCount) {\n        if (currentPage > pagerCount - halfPagerCount) {\n          showPrevMore = true\n        }\n        if (currentPage < pageCount - halfPagerCount) {\n          showNextMore = true\n        }\n      }\n      const array: number[] = []\n      if (showPrevMore && !showNextMore) {\n        const startPage = pageCount - (pagerCount - 2)\n        for (let i = startPage; i < pageCount; i++) {\n          array.push(i)\n        }\n      } else if (!showPrevMore && showNextMore) {\n        for (let i = 2; i < pagerCount; i++) {\n          array.push(i)\n        }\n      } else if (showPrevMore && showNextMore) {\n        const offset = Math.floor(pagerCount / 2) - 1\n        for (let i = currentPage - offset; i <= currentPage + offset; i++) {\n          array.push(i)\n        }\n      } else {\n        for (let i = 2; i < pageCount; i++) {\n          array.push(i)\n        }\n      }\n\n      return array\n    })\n\n    watchEffect(() => {\n      const halfPagerCount = (props.pagerCount - 1) / 2\n\n      showPrevMore.value = false\n      showNextMore.value = false\n\n      if (props.pageCount > props.pagerCount) {\n        if (props.currentPage > props.pagerCount - halfPagerCount) {\n          showPrevMore.value = true\n        }\n        if (props.currentPage < props.pageCount - halfPagerCount) {\n          showNextMore.value = true\n        }\n      }\n    })\n\n    function onMouseenter(direction: 'left' | 'right') {\n      if (props.disabled) return\n      if (direction === 'left') {\n        quickPrevHover.value = true\n      } else {\n        quickNextHover.value = true\n      }\n    }\n\n    function onEnter(e: UIEvent) {\n      const target = e.target as HTMLElement\n      if (\n        target.tagName.toLowerCase() === 'li' &&\n        Array.from(target.classList).includes('number')\n      ) {\n        const newPage = Number(target.textContent)\n        if (newPage !== props.currentPage) {\n          emit('change', newPage)\n        }\n      }\n    }\n\n    function onPagerClick(event: UIEvent) {\n      const target = event.target as HTMLElement\n      if (target.tagName.toLowerCase() === 'ul' || props.disabled) {\n        return\n      }\n\n      let newPage = Number(target.textContent)\n      const pageCount = props.pageCount\n      const currentPage = props.currentPage\n      const pagerCountOffset = props.pagerCount - 2\n      if (target.className.includes('more')) {\n        if (target.className.includes('quickprev')) {\n          newPage = currentPage - pagerCountOffset\n        } else if (target.className.includes('quicknext')) {\n          newPage = currentPage + pagerCountOffset\n        }\n      }\n      if (!Number.isNaN(+newPage)) {\n        if (newPage < 1) {\n          newPage = 1\n        }\n        if (newPage > pageCount) {\n          newPage = pageCount\n        }\n      }\n      if (newPage !== currentPage) {\n        emit('change', newPage)\n      }\n    }\n\n    return {\n      showPrevMore,\n      showNextMore,\n      quickPrevHover,\n      quickNextHover,\n      pagers,\n      nsPager,\n      nsIcon,\n\n      onMouseenter,\n      onPagerClick,\n      onEnter,\n    }\n  },\n})\n</script>\n"]},"metadata":{},"sourceType":"module"}